<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.proxy.ustclug.org/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Bianle's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="Bianle's Blog">
<meta property="og:url" content="http://2le.me/page/15/index.html">
<meta property="og:site_name" content="Bianle's Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Bianle's Blog">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://2le.me/page/15/"/>


  <title> Bianle's Blog </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  



  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?3519f77bf8b5b1d5a98cc671b3a83214";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Bianle's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">The quieter you become, the more you are able to hear.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/10/web-js-trim/" itemprop="url">
                  自定义js的trim()方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-10T18:09:17+08:00" content="2013-01-10">
              2013-01-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web前端/" itemprop="url" rel="index">
                    <span itemprop="name">web前端</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/10/web-js-trim/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/10/web-js-trim/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>去除字符串左右两端的空格，在vbscript里面可以轻松地使用 trim、ltrim 或 rtrim，但在js中却没有这3个内置方法，需要手工编写。下面的实现方法是用到了正则表达式，效率不错，并把这三个方法加入String对象的内置方法中去。</p>
<p>写成类的方法格式如下：（str.trim();）</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line"> <span class="built_in">String</span>.prototype.trim=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/(^s*)|(s*$)/g</span>, <span class="string">""</span>);</div><div class="line"> &#125;</div><div class="line"> <span class="built_in">String</span>.prototype.ltrim=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/(^s*)/g</span>,<span class="string">""</span>);</div><div class="line"> &#125;</div><div class="line"> <span class="built_in">String</span>.prototype.rtrim=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/(s*$)/g</span>,<span class="string">""</span>);</div><div class="line"> &#125;</div><div class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>写成函数可以这样：(trim(str))</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">trim</span>(<span class="params">str</span>)</span>&#123; <span class="comment">//删除左右两端的空格</span></div><div class="line">      <span class="keyword">return</span> str.replace(<span class="regexp">/(^s*)|(s*$)/g</span>, <span class="string">""</span>);</div><div class="line"> &#125;</div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">ltrim</span>(<span class="params">str</span>)</span>&#123; <span class="comment">//删除左边的空格</span></div><div class="line">      <span class="keyword">return</span> str.replace(<span class="regexp">/(^s*)/g</span>,<span class="string">""</span>);</div><div class="line"> &#125;</div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">rtrim</span>(<span class="params">str</span>)</span>&#123; <span class="comment">//删除右边的空格</span></div><div class="line">      <span class="keyword">return</span> str.replace(<span class="regexp">/(s*$)/g</span>,<span class="string">""</span>);</div><div class="line"> &#125;</div><div class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/10/java-gwt-code-lv/" itemprop="url">
                  GWT 项目中代码分四级概念
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-10T18:09:17+08:00" content="2013-01-10">
              2013-01-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/10/java-gwt-code-lv/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/10/java-gwt-code-lv/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>GWT 项目中代码分四级概念：Application, Host Page, Module 和 EntryPoint。理论上讲：一个 Application, 有多个 Host Page, 一个 Host Page 有多个 Module，则一个 Module 有多个 EntryPoint,但是，实际上基本就是一个页面一个应用，也就是一个 GWT 工程。一般在 Hello World 应用中，整个一个工程是：一个页面，一个 Module，在一个EntryPoint。当然实际应用中，一般还是一个页面，而为个复用，就会为多个 Module， 而一个Module 也会有多个 EntryPoint。
使用多个 Module 和 EntryPoint 相对都是非常简单的。创建过程同官方的新建一个Module 和 EntryPoint 没什么两样。那么我们，还有一种需求就是需要一些额外的关注：一个 application , 多个 hostpage， 因为 GWT 默认项目就只是一个 Single Host Page 的 Application。其实，我们有很多人已经注意到了这一点，并且有人 open 了一个 gwt module 来帮助大家实现这一点，它就是 gwtmultipage 。
gwtmultipage 使用起来相当简单，简单三步就可以了：
1.加载 org.gwtmultipage.gwtmultipage 这个 GWT module java 包到项目中
2.修改主 Module 的 gwt.xml， EntryPoint 改成&lt;entry -point class=’org.gwtmultipage.client.EntrypointDispatcher’/&gt;
当然要先加上它所在的 module<inherits name="’org.gwtmultipage.gwtmultipage’/">
3.在你的 EntryPoint 类名前加 annotation:@UrlPatternEntryPoint(value=”module.html”)
就可把 前端 jsp 或者 html 文件与 某个 EntryPoint 对应起来了。gwtmultipage 通过 org.gwtmultipage.client.EntrypointDispatcher 把 host page与 EntryPoint 一一对应。
EntrypointDispatcher 在这里就是一个单入口分发器。</inherits></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/10/web-js-window-resize/" itemprop="url">
                  改变当前浏览器窗口大小
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-10T18:09:17+08:00" content="2013-01-10">
              2013-01-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web前端/" itemprop="url" rel="index">
                    <span itemprop="name">web前端</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/10/web-js-window-resize/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/10/web-js-window-resize/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><figure class="highlight xml"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"JavaScript"</span>&gt;</span><span class="undefined"></span></div><div class="line">    self.resizeTo(200,300)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/10/web-scrollxxx/" itemprop="url">
                  scrollLeft,scrollTop等等详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-10T15:39:00+08:00" content="2013-01-10">
              2013-01-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/10/web-scrollxxx/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/10/web-scrollxxx/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>一张图</p>
<p>image
网页可见区域宽： document.body.clientWidth;
网页可见区域高： document.body.clientHeight;
网页可见区域宽： document.body.offsetWidth (包括边线的宽);
网页可见区域高： document.body.offsetHeight (包括边线的宽);
网页正文全文宽： document.body.scrollWidth;
网页正文全文高： document.body.scrollHeight;
网页被卷去的高： document.body.scrollTop;
网页被卷去的左： document.body.scrollLeft;
网页正文部分上： window.screenTop;
网页正文部分左： window.screenLeft;
屏幕分辨率的高： window.screen.height;
屏幕分辨率的宽： window.screen.width;
屏幕可用工作区高度： window.screen.availHeight;
屏幕可用工作区宽度：window.screen.availWidth;
1、offsetLeft
假设 obj 为某个 HTML 控件。
obj.offsetTop 指 obj 距离上方或上层控件的位置，整型，单位像素。
obj.offsetLeft 指 obj 距离左方或上层控件的位置，整型，单位像素。
obj.offsetWidth 指 obj 控件自身的宽度，整型，单位像素。
obj.offsetHeight 指 obj 控件自身的高度，整型，单位像素。
我们对前面提到的“上方或上层”与“左方或上层”控件作个说明。
例如：</p>
<div id="tool"> 
<input type="button" value="提交"> 
<input type="button" value="重置"> 
</div> 
“提交”按钮的 offsetTop 指“提交”按钮距“tool”层上边框的距离，因为距其上边最近的是 “tool” 层的上边框。 
“重置”按钮的 offsetTop 指“重置”按钮距“tool”层上边框的距离，因为距其上边最近的是 “tool” 层的上边框。 
“提交”按钮的 offsetLeft 指“提交”按钮距“tool”层左边框的距离，因为距其左边最近的是 “tool” 层的左边框。 
“重置”按钮的 offsetLeft 指“重置”按钮距“提交”按钮右边框的距离，因为距其左边最近的是“提交”按钮的右边框。 
以上属性在 FireFox 中也有效。 
另 外：我们这里所说的是指 HTML 控件的属性值，并不是 document.body，document.body 的值在不同浏览器中有不同解释（实际上大多数环境是由于对 document.body 解释不同造成的，并不是由于对 offset 解释不同造成的），点击这里查看不同点。 
标题：offsetTop 与 style.top 的区别 
预备知识：offsetTop、offsetLeft、offsetWidth、offsetHeight 
我们知道 offsetTop 可以获得 HTML 元素距离上方或外层元素的位置，style.top 也是可以的，二者的区别是： 
一、offsetTop 返回的是数字，而 style.top 返回的是字符串，除了数字外还带有单位：px。 
二、offsetTop 只读，而 style.top 可读写。 
三、如果没有给 HTML 元素指定过 top 样式，则 style.top 返回的是空字符串。 
offsetLeft 与 style.left、offsetWidth 与 style.width、offsetHeight 与 style.height 也是同样道理。 
标题：clientHeight、offsetHeight和scrollHeight 
我们这里说说四种浏览器对 document.body 的 clientHeight、offsetHeight 和 scrollHeight 的解释，这里说的是 document.body，如果是 HTML 控件，则又有不同，点击这里查看。 
这四种浏览器分别为IE（Internet Explorer）、NS（Netscape）、Opera、FF（FireFox）。 
2、clientHeight 
clientHeight 
大家对 clientHeight 都没有什么异议，都认为是内容可视区域的高度，也就是说页面浏览器中可以看到内容的这个区域的高度，一般是最后一个工具条以下到状态栏以上的这个区域，与页面内容无关。 
offsetHeight 
IE、Opera 认为 offsetHeight = clientHeight + 滚动条 + 边框。 
NS、FF 认为 offsetHeight 是网页内容实际高度，可以小于 clientHeight。 
scrollHeight 
IE、Opera 认为 scrollHeight 是网页内容实际高度，可以小于 clientHeight。 
NS、FF 认为 scrollHeight 是网页内容高度，不过最小值是 clientHeight。 
简单地说 
clientHeight 就是透过浏览器看内容的这个区域高度。 
NS、 FF 认为 offsetHeight 和 scrollHeight 都是网页内容高度，只不过当网页内容高度小于等于 clientHeight 时，scrollHeight 的值是 clientHeight，而 offsetHeight 可以小于 clientHeight。 
IE、Opera 认为 offsetHeight 是可视区域 clientHeight 滚动条加边框。scrollHeight 则是网页内容实际高度。 
同理 
clientWidth、offsetWidth 和 scrollWidth 的解释与上面相同，只是把高度换成宽度即可。 
但是 
FF 在不同的 DOCTYPE 中对 clientHeight 的解释不同， xhtml 1 trasitional 中则不是如上解释的。其它浏览器则不存在此问题。 
标题：scrollTop、scrollLeft、scrollWidth、scrollHeight 
3、scrollLeft 
scrollTop 是“卷”起来的高度值，示例：
<div style="width:100px;height:100px;background-color:#FF0000;overflow:hidden;" id="p">
  <div style="width:50px;height:300px;background-color:#0000FF;" id="t">如果为 p 设置了 scrollTop，这些内容可能不会完全显示。</div>
  </div>
  <script type="text/javascript">

  var p = document.getElementById("p");

  p.scrollTop = 10;

  </script>
<p>由于为外层元素 p 设置了 scrollTop，所以内层元素会向上卷。
scrollLeft 也是类似道理。
我们已经知道 offsetHeight 是自身元素的宽度。
而 scrollHeight 是内部元素的绝对宽度，包含内部元素的隐藏的部分。
上述中 p 的 scrollHeight 为 300，而 p 的 offsetHeight 为 100。
scrollWidth 也是类似道理。
IE 和 FireFox 全面支持，而 Netscape 和 Opera 不支持 scrollTop、scrollLeft（document.body 除外）。
发表时间：2007-10-15 20:20:16
标题：offsetTop、offsetLeft、offsetWidth、offsetHeight
4、clientLeft
返回对象的offsetLeft属性值和到当前窗口左边的真实值之间的距离，可以理解为边框的长度
一直以来对offsetLeft，offsetTop，scrollLeft，scrollTop这几个方法很迷糊，花了一天的时间好好的学习了一下．得出了以下的结果：
1.offsetTop :
当前对象到其上级层顶部的距离.
不能对其进行赋值.设置对象到页面顶部的距离请用style.top属性.
2.offsetLeft :
当前对象到其上级层左边的距离.
不能对其进行赋值.设置对象到页面左部的距离请用style.left属性.
3.offsetWidth :
当前对象的宽度.
与style.width属性的区别在于:如对象的宽度设定值为百分比宽度,则无论页面变大还是变小,style.width都返回此百分比,而offsetWidth则返回在不同页面中对象的宽度值而不是百分比值
4.offsetHeight :
与style.height属性的区别在于:如对象的宽度设定值为百分比高度,则无论页面变大还是变小,style.height都返回此百分比,而offsetHeight则返回在不同页面中对象的高度值而不是百分比值
5.offsetParent :
当前对象的上级层对象.
注意.如果对象是包括在一个DIV中时,此DIV不会被当做是此对象的上级层,(即对象的上级层会跳过DIV对象)上级层是Table时则不会有问题.
利用这个属性，可以得到当前对象在不同大小的页面中的绝对位置．
得到绝对位置脚本代码
function GetPosition(obj)</p>
<p>{</p>
<p>var left = 0;</p>
<p>var top = 0;</p>
<p>while(obj != document.body)</p>
<p>{</p>
<p>left = obj.offsetLeft;</p>
<p>top = obj.offsetTop;</p>
<p>obj = obj.offsetParent;</p>
<p>}</p>
<p>alert(&quot;Left Is : &quot; + left + “\r\n” + &quot;Top Is : &quot; + top);</p>
<p>}
6.scrollLeft :
对象的最左边到对象在当前窗口显示的范围内的左边的距离．
即是在出现了横向滚动条的情况下，滚动条拉动的距离．
7.scrollTop
对象的最顶部到对象在当前窗口显示的范围内的顶边的距离．
即是在出现了纵向滚动条的情况下，滚动条拉动的距离．
我们这里说说四种浏览器对 document.body 的 clientHeight、offsetHeight 和 scrollHeight 的解释，这里说的是 document.body，如果是 HTML 控件，则又有不同，点击这里查看。
这四种浏览器分别为IE（Internet Explorer）、NS（Netscape）、Opera、FF（FireFox）。
clientHeight
大家对 clientHeight 都没有什么异议，都认为是内容可视区域的高度，也就是说页面浏览器中可以看到内容的这个区域的高度，一般是最后一个工具条以下到状态栏以上的这个区域，与页面内容无关。
offsetHeight
IE、Opera 认为 offsetHeight = clientHeight + 滚动条 + 边框。
NS、FF 认为 offsetHeight 是网页内容实际高度，可以小于 clientHeight。
scrollHeight
IE、Opera 认为 scrollHeight 是网页内容实际高度，可以小于 clientHeight。
NS、FF 认为 scrollHeight 是网页内容高度，不过最小值是 clientHeight。
简单地说
clientHeight 就是透过浏览器看内容的这个区域高度。
NS、 FF 认为 offsetHeight 和 scrollHeight 都是网页内容高度，只不过当网页内容高度小于等于 clientHeight 时，scrollHeight 的值是 clientHeight，而 offsetHeight 可以小于 clientHeight。
IE、Opera 认为 offsetHeight 是可视区域 clientHeight 滚动条加边框。scrollHeight 则是网页内容实际高度。
同理
clientWidth、offsetWidth 和 scrollWidth 的解释与上面相同，只是把高度换成宽度即可。
说明
以 上基于 DTD HTML 4.01 Transitional，如果是 DTD XHTML 1.0 Transitional 则意义又会不同，在 XHTML 中这三个值都是同一个值，都表示内容的实际高度。新版本的浏览器大多支持根据页面指定的 DOCTYPE 来启用不同的解释器。下载或浏览测试文件。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/08/linux-bt5-wlan/" itemprop="url">
                  bt5破解无线网络教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-08T21:03:00+08:00" content="2013-01-08">
              2013-01-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/08/linux-bt5-wlan/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/08/linux-bt5-wlan/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>第一部分 虚拟机的安装
下载完后，先安装虚拟机，解压
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_1.png" alt="bt5"><span class="image-caption">bt5</span>
2．进入虚拟机目录，打开
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_2.png" alt="bt5"><span class="image-caption">bt5</span>
等一下就出现这个，下来就是Next下一步点起走就行了
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_3.png" alt="bt5"><span class="image-caption">bt5</span>
这一步注册，
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_4.png" alt="bt5"><span class="image-caption">bt5</span>
打开虚拟机目录下New.keygen.exe
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_5.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_6.png" alt="bt5"><span class="image-caption">bt5</span>
复制注册码
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_7.png" alt="bt5"><span class="image-caption">bt5</span>
下一步，即可！
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_8.png" alt="bt5"><span class="image-caption">bt5</span>
最后问是否重启，点No，完成安装！
需要汉化的朋友可以运行目录下setup.exe
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_9.png" alt="bt5"><span class="image-caption">bt5</span>
汉化很简单，下一步就是，不过需要注意
汉化过程中注册有捆绑软件，不需要的，不打勾即可！
第二部分 虚拟机设置，加载ISO文件
启动桌面上的VMware Workstation!
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_10.png" alt="bt5"><span class="image-caption">bt5</span>
先新建 &gt; 虚拟机
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_11.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_12.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_13.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_14.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_15.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_16.png" alt="bt5"><span class="image-caption">bt5</span>
完成以后，主窗口就多一个选项，就是刚刚建立的
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_17.png" alt="bt5"><span class="image-caption">bt5</span>
点编辑虚拟机设置
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_18.png" alt="bt5"><span class="image-caption">bt5</span>
选CD-ROM,右下角，使用ISO镜像
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_19.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_20.png" alt="bt5"><span class="image-caption">bt5</span>
选中，bt5.iso
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_21.png" alt="bt5"><span class="image-caption">bt5</span>
确定后，点启动虚拟机
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_22.png" alt="bt5"><span class="image-caption">bt5</span>
启动时间大约40秒，看你计算机的配置怎么样
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_23.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_24.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_25.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_26.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_27.png" alt="bt5"><span class="image-caption">bt5</span>
解决办法：
虚拟机 &gt; 可移动设备 &gt; USB设备  &gt; Realtek Usb设备
选的是你的网卡，有可能名字不一样，选择你的那个网卡就可以了！
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_28.png" alt="bt5"><span class="image-caption">bt5</span>
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_29.png" alt="bt5"><span class="image-caption">bt5</span>
再次启动软件就不会提供没有网卡了不
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_30.png" alt="bt5"><span class="image-caption">bt5</span>
提示：破解的时候把方式选择那里的所有方式都选上，这样可以提供破解成功率！
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_31.png" alt="bt5"><span class="image-caption">bt5</span>
****密码出来了
<img src="http://7xlbo3.com1.z0.glb.clouddn.com/2013/01/08/bt5_32.png" alt="bt5"><span class="image-caption">bt5</span>
Hex key就是密码 6161613132 成功了！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/07/java-hibernate-could-not-initialize-proxy/" itemprop="url">
                  could not initialize proxy – no Session
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-07T18:09:17+08:00" content="2013-01-07">
              2013-01-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/07/java-hibernate-could-not-initialize-proxy/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/07/java-hibernate-could-not-initialize-proxy/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>在<code>&lt;many-to-on&gt;</code>中这错误很常见，字面意义就是不能被初始化，因为<code>session</code>已经关闭了。
简单理解就是因为，你使用了<code>lazy=true</code>，这样hibernate在从数据库中调数据的时候是不会把关联的对象查出来的，而是保存一个获取值得方法，在你使用getXXX()调用的时候，hiberante会利用这个保存的方法去从数据库中取数据。而往往我们在jsp页面中使用getXXX()准备展示数据的时候，session早已经在dao中就关闭了，我们该如何解决这种异常呢？
简单的说有三种：</p>
<ol>
<li>把lazy设成false,最简单。</li>
<li>我没试过，但听说过</li>
</ol>
<p>在web.xml中加入</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><div class="line">&lt;<span class="attribute">filter</span>&gt; </div><div class="line">     &lt;<span class="attribute">filter</span>-name&gt;hibernateFilter&lt;/filter-name&gt; </div><div class="line">     &lt;<span class="attribute">filter</span>-class&gt; </div><div class="line">     org<span class="selector-class">.springframework</span><span class="selector-class">.orm</span><span class="selector-class">.hibernate3</span><span class="selector-class">.support</span><span class="selector-class">.OpenSessionInViewFilter</span> </div><div class="line">     &lt;/<span class="attribute">filter</span>-class&gt; </div><div class="line">&lt;/<span class="attribute">filter</span>&gt; </div><div class="line">&lt;<span class="attribute">filter</span>-mapping&gt; </div><div class="line">     &lt;<span class="attribute">filter</span>-name&gt;hibernateFilter&lt;/filter-name&gt; </div><div class="line">     &lt;url-pattern&gt;*.do&lt;/url-pattern&gt; </div><div class="line">&lt;/<span class="attribute">filter</span>-mapping&gt;</div></pre></td></tr></table></figure>
<ol start="3">
<li>我用的方法，也是我认为比较不错的方法，灵活性更好。用left join fetch或inner join fetch语法。
例如：from Item i left join fetch i.parentItem ii
解释一下Item表是一个自关联的表，它的关联关系在hbm.xml中配置好了。
如下：</li>
</ol>
<p>程序代码</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><div class="line">&lt;many-<span class="keyword">to</span>-one <span class="built_in">name</span>=<span class="string">"parentItem"</span> lazy=<span class="string">"false"</span> fetch=<span class="string">"join"</span> <span class="built_in">class</span>=<span class="string">"cn.sports.matchs.model.Item"</span>&gt; </div><div class="line">             &lt;column <span class="built_in">name</span>=<span class="string">"PARENT_ID"</span>&gt;&lt;/column&gt; </div><div class="line">&lt;/many-<span class="keyword">to</span>-one&gt;</div></pre></td></tr></table></figure>
<p>在Item类中</p>
<p>程序代码</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><div class="line">private Item parentItem<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>关于lazy机制：
延迟初始化错误是运用Hibernate开发项目时最常见的错误。如果对一个类或者集合配置了延迟检索策略，那么必须当代理类实例或代理集合处于持久化状态（即处于Session范围内）时，才能初始化它。如果在游离状态时才初始化它，就会产生延迟初始化错误。</p>
<p>下面把Customer.hbm.xml文件的<class>元素的lazy属性设为true，表示使用延迟检索策略：</class></p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><div class="line">&lt;<span class="built_in">class</span> <span class="built_in">name</span>=<span class="string">"mypack.Customer"</span> table=<span class="string">"CUSTOMERS"</span> lazy=<span class="string">"true"</span>&gt;</div></pre></td></tr></table></figure>
<p>当执行Session的load()方法时，Hibernate不会立即执行查询CUSTOMERS表的select语句，仅仅返回Customer类的代理类的实例，这个代理类具由以下特征：
（1）由Hibernate在运行时动态生成，它扩展了Customer类，因此它继承了Customer类的所有属性和方法，但它的实现对于应用程序是透明的。
（2）当Hibernate创建Customer代理类实例时，仅仅初始化了它的OID属性，其他属性都为null，因此这个代理类实例占用的内存很少。
（3）当应用程序第一次访问Customer代理类实例时（例如调用customer.getXXX()或customer.setXXX()方法）， Hibernate会初始化代理类实例，在初始化过程中执行select语句，真正从数据库中加载Customer对象的所有数据。但有个例外，那就是当应用程序访问Customer代理类实例的getId()方法时，Hibernate不会初始化代理类实例，因为在创建代理类实例时OID就存在了，不必到数据库中去查询。
提示：Hibernate采用CGLIB工具来生成持久化类的代理类。CGLIB是一个功能强大的Java字节码生成工具，它能够在程序运行时动态生成扩展 Java类或者实现Java接口的代理类。关于CGLIB的更多知识，请参考：<a href="http://cglib.sourceforge.net/%E3%80%82" target="_blank" rel="external">http://cglib.sourceforge.net/。</a>
以下代码先通过Session的load()方法加载Customer对象，然后访问它的name属性：</p>
<figure class="highlight pony"><table><tr><td class="code"><pre><div class="line">tx = session.beginTransaction(); </div><div class="line"><span class="type">Customer</span> customer=(<span class="type">Customer</span>)session.load(<span class="type">Customer</span>.<span class="keyword">class</span>,<span class="function"><span class="keyword">new</span> <span class="title">Long</span>(<span class="number">1</span>)); </span></div><div class="line"><span class="title">customer</span>.<span class="title">getName</span>(); </div><div class="line"><span class="title">tx</span>.<span class="title">commit</span>();</div></pre></td></tr></table></figure>
<p>在运行session.load()方法时Hibernate不执行任何select语句，仅仅返回Customer类的代理类的实例，它的OID为1，这是由load()方法的第二个参数指定的。当应用程序调用customer.getName()方法时，Hibernate会初始化Customer代理类实例，从数据库中加载Customer对象的数据，执行以下select语句：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> CUSTOMERS <span class="keyword">where</span> <span class="keyword">ID</span>=<span class="number">1</span>; </div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> orDERS <span class="keyword">where</span> CUSTOMER_ID=<span class="number">1</span>;</div></pre></td></tr></table></figure>
<p>当<class>元素的lazy属性为true，会影响Session的load()方法的各种运行时行为，下面举例说明。
1．如果加载的Customer对象在数据库中不存在，Session的load()方法不会抛出异常，只有当运行customer.getName()方法时才会抛出以下异常：</class></p>
<blockquote>
<p>ERROR LazyInitializer:63 -Exception initializing proxy
net.sf.hibernate.ObjectNotFoundException: No row with thegiven identifier exists: 1, of class:
mypack.Customer
2．如果在整个Session范围内，应用程序没有访问过Customer对象，那么Customer代理类的实例一直不会被初始化，Hibernate不会执行任何select语句。以下代码试图在关闭Session后访问Customer游离对象：</p>
</blockquote>
<figure class="highlight pony"><table><tr><td class="code"><pre><div class="line">tx = session.beginTransaction(); </div><div class="line"><span class="type">Customer</span> customer=(<span class="type">Customer</span>)session.load(<span class="type">Customer</span>.<span class="keyword">class</span>,<span class="function"><span class="keyword">new</span> <span class="title">Long</span>(<span class="number">1</span>)); </span></div><div class="line"><span class="title">tx</span>.<span class="title">commit</span>(); </div><div class="line"><span class="title">session</span>.<span class="title">close</span>(); </div><div class="line"><span class="title">customer</span>.<span class="title">getName</span>();</div></pre></td></tr></table></figure>
<p>由于引用变量customer引用的Customer代理类的实例在Session范围内始终没有被初始化，因此在执行customer.getName()方法时，Hibernate会抛出以下异常：
ERROR LazyInitializer:63 -Exception initializing proxy
net.sf.hibernate.HibernateException: Couldnotinitializeproxy-theowningSessionwasclosed
由此可见，Customer代理类的实例只有在当前Session范围内才能被初始化。</p>
<p>3．net.sf.hibernate.Hibernate类的initialize()静态方法用于在Session范围内显式初始化代理类实例，isInitialized()方法用于判断代理类实例是否已经被初始化。例如：</p>
<figure class="highlight pony"><table><tr><td class="code"><pre><div class="line">tx = session.beginTransaction(); </div><div class="line"><span class="type">Customer</span> customer=(<span class="type">Customer</span>)session.load(<span class="type">Customer</span>.<span class="keyword">class</span>,<span class="function"><span class="keyword">new</span> <span class="title">Long</span>(<span class="number">1</span>)); </span></div><div class="line"><span class="title">if</span>(!<span class="type">Hibernate</span>.isInitialized(customer)) </div><div class="line"><span class="title">Hibernate</span>.<span class="title">initialize</span>(customer); </div><div class="line"><span class="title">tx</span>.<span class="title">commit</span>(); </div><div class="line"><span class="title">session</span>.<span class="title">close</span>(); </div><div class="line"><span class="title">customer</span>.<span class="title">getName</span>();</div></pre></td></tr></table></figure>
<p>以上代码在Session范围内通过Hibernate类的initialize()方法显式初始化了Customer代理类实例，因此当Session关闭后，可以正常访问Customer游离对象。</p>
<p>4．当应用程序访问代理类实例的getId()方法时，不会触发Hibernate初始化代理类实例的行为，例如：</p>
<figure class="highlight pony"><table><tr><td class="code"><pre><div class="line">tx = session.beginTransaction(); </div><div class="line"><span class="type">Customer</span> customer=(<span class="type">Customer</span>)session.load(<span class="type">Customer</span>.<span class="keyword">class</span>,<span class="function"><span class="keyword">new</span> <span class="title">Long</span>(<span class="number">1</span>)); </span></div><div class="line"><span class="title">customer</span>.<span class="title">getId</span>(); </div><div class="line"><span class="title">tx</span>.<span class="title">commit</span>(); </div><div class="line"><span class="title">session</span>.<span class="title">close</span>(); </div><div class="line"><span class="title">customer</span>.<span class="title">getName</span>();</div></pre></td></tr></table></figure>
<p>当应用程序访问customer.getId()方法时，该方法直接返回Customer代理类实例的OID值，无需查询数据库。由于引用变量 customer始终引用的是没有被初始化的Customer代理类实例，因此当Session关闭后再执行customer.getName()方法， Hibernate会抛出以下异常：</p>
<blockquote>
<p>ERROR LazyInitializer:63 -Exception initializing proxy
net.sf.hibernate.HibernateException: Couldnotinitializeproxy-theowningSessionwasclosed</p>
</blockquote>
<p>解决方法：
由于hibernate采用了lazy=true,这样当你用hibernate查询时,返回实际为利用cglib增强的代理类,但其并没有实际填充;当你在前端,利用它来取值(getXXX)时,这时Hibernate才会到数据库执行查询,并填充对象,但此时如果和这个代理类相关的session已关闭掉,就会产生种错误.
在做一对多时，有时会出现&quot;could not initialize proxy – clothe owning Session was sed,这个好像是hibernate的缓存问题.问题解决:需要在<many-to-one>里设置lazy=“false”. 但有可能会引发另一个异常叫
failed to lazily initialize a collection of role: XXXXXXXX, no session or session was closed
解决方法:在web.xml中加入</many-to-one></p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><div class="line">&lt;<span class="attribute">filter</span>&gt; </div><div class="line">     &lt;<span class="attribute">filter</span>-name&gt;hibernateFilter&lt;/filter-name&gt; </div><div class="line">     &lt;<span class="attribute">filter</span>-class&gt; </div><div class="line">     org<span class="selector-class">.springframework</span><span class="selector-class">.orm</span><span class="selector-class">.hibernate3</span><span class="selector-class">.support</span><span class="selector-class">.OpenSessionInViewFilter</span> </div><div class="line">     &lt;/<span class="attribute">filter</span>-class&gt; </div><div class="line">&lt;/<span class="attribute">filter</span> &gt; </div><div class="line">&lt;<span class="attribute">filter</span>-mapping&gt; </div><div class="line">     &lt;<span class="attribute">filter</span>-name&gt;hibernateFilter&lt;/filter-name&gt; </div><div class="line">     &lt;url-pattern&gt;*.do&lt;/url-pattern&gt; </div><div class="line">&lt;/<span class="attribute">filter</span>-mapping&gt;</div></pre></td></tr></table></figure>
<p>就可以了;</p>
<p>参考了:
Hibernate与延迟加载：
Hibernate对象关系映射提供延迟的与非延迟的对象初始化。非延迟加载在读取一个对象的时候会将与这个对象所有相关的其他对象一起读取出来。这有时会导致成百的（如果不是成千的话）select语句在读取对象的时候执行。这个问题有时出现在使用双向关系的时候，经常会导致整个数据库都在初始化的阶段被读出来了。当然，你可以不厌其烦地检查每一个对象与其他对象的关系，并把那些最昂贵的删除，但是到最后，我们可能会因此失去了本想在ORM工具中获得的便利。
一个明显的解决方法是使用Hibernate提供的延迟加载机制。这种初始化策略只在一个对象调用它的一对多或多对多关系时才将关系对象读取出来。这个过程对开发者来说是透明的，而且只进行了很少的数据库操作请求，因此会得到比较明显的性能提升。这项技术的一个缺陷是延迟加载技术要求一个Hibernate会话要在对象使用的时候一直开着。这会成为通过使用DAO模式将持久层抽象出来时的一个主要问题。为了将持久化机制完全地抽象出来，所有的数据库逻辑，包括打开或关闭会话，都不能在应用层出现。最常见的是，一些实现了简单接口的DAO实现类将数据库逻辑完全封装起来了。一种快速但是笨拙的解决方法是放弃DAO模式，将数据库连接逻辑加到应用层中来。这可能对一些小的应用程序有效，但是在大的系统中，这是一个严重的设计缺陷，妨碍了系统的可扩展性。
在Web层进行延迟加载
幸运的是，Spring框架为Hibernate延迟加载与DAO模式的整合提供了一种方便的解决方法。对那些不熟悉Spring与Hibernate集成使用的人，我不会在这里讨论过多的细节，但是我建议你去了解Hibernate与Spring集成的数据访问。以一个Web应用为例，Spring提供了OpenSessionInViewFilter和OpenSessionInViewInterceptor。我们可以随意选择一个类来实现相同的功能。两种方法唯一的不同就在于interceptor在Spring容器中运行并被配置在web应用的上下文中，而Filter在Spring之前运行并被配置在web.xml中。不管用哪个，他们都在请求将当前会话与当前（数据库）线程绑定时打开Hibernate会话。一旦已绑定到线程，这个打开了的Hibernate会话可以在DAO实现类中透明地使用。这个会话会为延迟加载数据库中值对象的视图保持打开状态。一旦这个逻辑视图完成了，Hibernate会话会在Filter的doFilter方法或者Interceptor的postHandle方法中被关闭。下面是每个组件的配置示例：
Interceptor的配置:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">&lt;bean name=<span class="string">"openSessionInViewInterceptor"</span> </div><div class="line"><span class="class"><span class="keyword">class</span></span>=<span class="string">"org.springframework.orm.hibernate.support.OpenSessionInViewInterceptor"</span>&gt; </div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sessionFactory"</span>&gt;</span><span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"sessionFactory"</span>/&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span></div><div class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </div><div class="line">&lt;<span class="regexp">/beans&gt;</span></div></pre></td></tr></table></figure>
<p>Filter的配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>hibernateFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">filter-class</span>&gt;</span> </div><div class="line">org.springframework.orm.hibernate.support.OpenSessionInViewFilter </div><div class="line"><span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>hibernateFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*. spring <span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></div></pre></td></tr></table></figure>
<p>实现Hibernate的Dao接口来使用打开的会话是很容易的。事实上，如果你已经使用了Spring框架来实现你的Hibernate Dao,很可能你不需要改变任何东西。方便的HibernateTemplate公用组件使访问数据库变成小菜一碟，而DAO接口只有通过这个组件才可以访问到数据库。下面是一个示例的DAO：</p>
<figure class="highlight fortran"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> HibernateProductDAO <span class="keyword">extends</span> HibernateDaoSupport implements ProductDAO &#123;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="built_in">Product</span> getProduct(<span class="keyword">Integer</span> productId) &#123; </div><div class="line">       <span class="keyword">return</span> (<span class="built_in">Product</span>)getHibernateTemplate().load(<span class="built_in">Product</span>.<span class="keyword">class</span>, productId); </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">Integer</span> saveProduct(<span class="built_in">Product</span> <span class="built_in">product</span>) &#123; </div><div class="line">       <span class="keyword">return</span> (<span class="keyword">Integer</span>) getHibernateTemplate().<span class="keyword">save</span>(<span class="built_in">product</span>); </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> void updateProduct(<span class="built_in">Product</span> <span class="built_in">product</span>) &#123; </div><div class="line">       getHibernateTemplate().update(<span class="built_in">product</span>); </div><div class="line">&#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在业务逻辑层中使用延迟加载
即使在视图外面，Spring框架也通过使用AOP 拦截器 HibernateInterceptor来使得延迟加载变得很容易实现。这个Hibernate 拦截器透明地将调用配置在Spring应用程序上下文中的业务对象中方法的请求拦截下来，在调用方法之前打开一个Hibernate会话，然后在方法执行完之后将会话关闭。让我们来看一个简单的例子，假设我们有一个接口BussinessObject：</p>
<figure class="highlight cs"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span>     <span class="keyword">interface</span>     <span class="title">BusinessObject</span>     &#123; </div><div class="line"><span class="function"><span class="keyword">public</span>     <span class="keyword">void</span>     <span class="title">doSomethingThatInvolvesDaos</span>(<span class="params"></span>)</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>类BusinessObjectImpl实现了BusinessObject接口:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span>     <span class="class"><span class="keyword">class</span>     <span class="title">BusinessObjectImpl</span>     <span class="keyword">implements</span>     <span class="title">BusinessObject</span>     </span>&#123; </div><div class="line"><span class="function"><span class="keyword">public</span>     <span class="keyword">void</span>     <span class="title">doSomethingThatInvolvesDaos</span><span class="params">()</span>     </span>&#123; </div><div class="line"><span class="comment">//     lots of logic that calls </span></div><div class="line"><span class="comment">//     DAO classes Which access </span></div><div class="line"><span class="comment">//     data objects lazily  </span></div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>通过在Spring应用程序上下文中的一些配置，我们可以让将调用BusinessObject的方法拦截下来，再令它的方法支持延迟加载。看看下面的一个程序片段：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"hibernateInterceptor"</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.hibernate.HibernateInterceptor"</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sessionFactory"</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"sessionFactory"</span>/&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"businessObjectTarget"</span> <span class="attr">class</span>=<span class="string">"com.acompany.BusinessObjectImpl"</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"someDAO"</span>&gt;</span><span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"someDAO"</span>/&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"businessObject"</span> <span class="attr">class</span>=<span class="string">"org.springframework.aop.framework.ProxyFactoryBean"</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"target"</span>&gt;</span><span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"businessObjectTarget"</span>/&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"proxyInterfaces"</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>com.acompany.BusinessObject<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"interceptorNames"</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">list</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hibernateInterceptor<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">list</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></div></pre></td></tr></table></figure>
<p>当businessObject被调用的时候，HibernateInterceptor打开一个Hibernate会话，并将调用请求传递给BusinessObjectImpl对象。当BusinessObjectImpl执行完成后，HibernateInterceptor透明地关闭了会话。应用层的代码不用了解任何持久层逻辑，还是实现了延迟加载。
在单元测试中测试延迟加载
最后，我们需要用J-Unit来测试我们的延迟加载程序。我们可以轻易地通过重写TestCase类中的setUp和tearDown方法来实现这个要求。我比较喜欢用这个方便的抽象类作为我所有测试类的基类。</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><div class="line">public <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">MyLazyTestCase</span> <span class="keyword">extends</span> <span class="title">TestCase</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="type">SessionFactory</span> sessionFactory; </div><div class="line"><span class="keyword">private</span> <span class="type">Session</span> session;</div><div class="line"></div><div class="line">public void setUp() <span class="keyword">throws</span> <span class="type">Exception</span> &#123; </div><div class="line"><span class="keyword">super</span>.setUp(); </div><div class="line"><span class="type">SessionFactory</span> sessionFactory = (<span class="type">SessionFactory</span>) getBean(<span class="string">"sessionFactory"</span>); </div><div class="line">session = <span class="type">SessionFactoryUtils</span>.getSession(sessionFactory, <span class="literal">true</span>); </div><div class="line"><span class="type">Session</span> s = sessionFactory.openSession(); </div><div class="line"><span class="type">TransactionSynchronizationManager</span>.bindResource(sessionFactory, <span class="keyword">new</span> <span class="type">SessionHolder</span>(s));</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">protected</span> <span class="type">Object</span> getBean(<span class="type">String</span> beanName) &#123; </div><div class="line"><span class="comment">//Code to get objects from Spring application context </span></div><div class="line">&#125;</div><div class="line"></div><div class="line">public void tearDown() <span class="keyword">throws</span> <span class="type">Exception</span> &#123; </div><div class="line"><span class="keyword">super</span>.tearDown(); </div><div class="line"><span class="type">SessionHolder</span> holder = (<span class="type">SessionHolder</span>) <span class="type">TransactionSynchronizationManager</span>.getResource(sessionFactory); </div><div class="line"><span class="type">Session</span> s = holder.getSession(); </div><div class="line">s.flush(); </div><div class="line"><span class="type">TransactionSynchronizationManager</span>.unbindResource(sessionFactory); </div><div class="line"><span class="type">SessionFactoryUtils</span>.closeSessionIfNecessary(s, sessionFactory); </div><div class="line">&#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们首先说利用lazy=false来解决问题，这种方法是很好用，但是在实际的过程并不实用，如果你某个对象关联好几个甚至十几个自对象，那么每次加载一个的话要执行很多HQL语句，可想而知这个效率问题啦，特别是在使用列表的时候。所以不实用，而在上述所说的“在业务逻辑层中使用延迟加载” 也是这种情况吧。
很多使用WEB的朋友都喜欢利用openSessionView来加载这个问题。不错我也喜欢用，简单方便。但是说几种情况：</p>
<ol>
<li>在quartz中总不能使用openSessionView模式吧</li>
<li>在spring后拦截的过程中，如果取拦截对象中的子对象利用openSessionView也不行
还有很多情况是不能用的，那么怎么解决呢。有人说那就lazy=False吧，你想在单纯的解决一个quartz的时候调整整个WEB工程的加载好像不合适吧。
那怎么办呢，我觉得这个时候就可以考虑利用SQL语句使用这个重新加载一遍这个代理类，这样在想调用的时候才手动加载比较合适和方便吧，但是估计要多几行代码，好好考虑</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/07/system-ie-toolbar-plugin/" itemprop="url">
                  IE工具栏上添加自己的按钮
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-07T18:09:17+08:00" content="2013-01-07">
              2013-01-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/系统/" itemprop="url" rel="index">
                    <span itemprop="name">系统</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/07/system-ie-toolbar-plugin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/07/system-ie-toolbar-plugin/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="问题提出"><a class="header-anchor" href="#问题提出"> </a>问题提出</h1>
<p>金山词霸、网络蚂蚁等软件安装后会向IE的工具条添加自己的按钮。按下按钮后还会作出相应的动作，这种功能是如何实现的呢？读完本文，您也可以将自己应用程序的按钮添加到IE的工具条中。</p>
<h1 id="基本原理"><a class="header-anchor" href="#基本原理"> </a>基本原理</h1>
<p>从IE5开始便允许我们向工具栏添加自己的按钮，其本质就是修改注册表，添加创建此按钮所需的信息。</p>
<h1 id="实现步骤"><a class="header-anchor" href="#实现步骤"> </a>实现步骤</h1>
<ol>
<li>创建此按钮的GUID(globally unique identifier)
你可以通过<code>Visual Studio</code>中的<code>Guidgen.exe</code>来产生GUID。
例如我生成的GUID是<code>{1FBA04EE-3024-11D2-8F1F-0000F87ABD16}</code>
以下的例子中我都使用这个GUID来作说明。</li>
<li>创建子键HKEY_LOCAL_MACHINE\Software\Microsoft\Internet Explorer\Extensions{1FBA04EE-3024-11D2-8F1F-0000F87ABD16}</li>
<li>在此子键下创建如下字串值。
（1）CLSID
这是IE的CLSID，其值必须为{1FBA04EE-3024-11D2-8F1F-0000F87ABD16}
（2）Default Visible
指明此按钮默认状态下是否可见，Yes表示可见,No为不可见
（3）ButtonText
按钮文字
（4）Icon
默认状态下的图标全路径，例如c:\vckbase.ico。也可以是EXE文件中包含的图标，例如：C:\PROGRA~1\NETANTS\NetAnts.exe,1000
（5）HotIcon
鼠标移到按钮上时的图标全路径
如下子键为按下按钮后需要执行的相应动作：可以是COM对象、浏览条Explorer Bar、脚本Script、可执行文件。
下面我们逐个进行介绍。
①COM对象
你需要建立名为ClsidExtension的字串值，其值应该为此COM对象的GUID
例如金山词霸就使用ClsidExtension来调用自己的COM对象。
②浏览条Explorer Bar
所谓浏览条就是类似我们按下往IE历史按钮后打开的历史记录列表，其本质好比MFC中的CReBar对象。 浏览条也可以自己制作，
因为超出了本文的范围，暂不作讲解。
为了在按下按钮后打开一个浏览条，你需要建立名为BandCLSID的字串值，其值为浏览条的CLSID
③脚本Script
按下按钮后执行的脚本，例如：&quot;%SystemRoot%\web\related.htm&quot;
你可以在这个HTML文件里面加上脚本来得到IE当前的许多信息，需要注意的是假如你想通过Script打开非脚本的HTML文件是不可行的。
请参考如下NetAnts取得当前页所有链接的脚本代码</li>
</ol>
<script language="VBScript"> 
－－On Error Resume Next 
－－set NetAntsApi = CreateObject( "NetAnts.API" ) 
－－if err<>0 then 
－－ －－Alert("NetAnts not properly installed on this PC!") 
－－else 
－－ －－set links = external.menuArguments.document.links 
－－ －－ReDim params(links.length*2) 
－－ －－params(0)=external.menuArguments.document.Url 
－－ －－for i = 0 to links.length-1 
－－ －－ －－params(i*2+1)=links(i).href 
－－ －－ －－params(i*2+2)=links(i).innerText 
－－ －－next 
－－ －－NetAntsApi.AddUrlList params 
－－end if 
< /script> 
我们再看一个比较有用的脚本,这段脚本的作用是得到当前地址，并打开此网址的首页。 
<script> 
－－//userURL得到的是当前地址,例如是http://www.vckbase.com/article/controls/index.html 
－－userURL=external.menuArguments.location.href; 
－－protocolIndex=userURL.indexOf("://",4); 
－－serverIndex=userURL.indexOf("/",protocolIndex + 3); 
－－finalURL=userURL.substring(0,serverIndex); 
－－external.menuArguments.open(finalURL, "_blank");///打开网址http://www.vckbase.com/ 
< /script> 
关于external等对象的具体使用方法请参阅微软的《动态HTML开发参考大全》–人民邮电出版社出版 
④可执行文件 
假如我们想让IE在按下按钮后执行一个可执行文件, 你可以增加名为Exec的字串值，其值为此可执行文件的全路径， 
例如c:\windows\notepad.exe或者是一个网址http://www.vckbase.com/index.html 
下面我们介绍一个简单的例子。 
void CIEButtonDlg::OnAdd() 
{ 
－－///这是由GUIDGEN产生的GUID：{06926B30-424E-4f1c-8EE3-543CD96573DC} 
－－CRegKey reg; 
－－char KeyName[]="Software\\Microsoft\\Internet Explorer\\Extensions\\{06926B30-424E-4f1c-8EE3-543CD96573DC}"; 
－－TCHAR PathName[MAX_PATH]; 
－－TCHAR IconPathName[MAX_PATH]; ///正常时的图标全路径 
－－TCHAR HotIconPathName[MAX_PATH]; ///鼠标覆盖时的图标全路径 
－－GetModuleFileName(0,PathName,MAX_PATH); ///得到本可执行文件的路径 
－－strcpy(IconPathName,PathName); 
－－strcpy(HotIconPathName,PathName); 
－－strcat(HotIconPathName,",131"); ///131是图标的ID，你可以以资源方式打开EXE文件就可以看到所有资源及其ID 
－－strcat(IconPathName,",129"); 
－－reg.Create(HKEY_LOCAL_MACHINE,KeyName); 
－－reg.SetValue("{1FBA04EE-3024-11D2-8F1F-0000F87ABD16}","CLSID"); 
－－reg.SetValue("Yes","Default Visible"); 
－－reg.SetValue("VC知识库","ButtonText"); 
－－reg.SetValue(IconPathName,"Icon"); 
－－reg.SetValue(HotIconPathName,"HotIcon"); 
－－/////假如是执行脚本，可以是reg.SetValue("c:\\test.html","Script"); ///在test.html 存放你的脚本代码
－－reg.SetValue("http://www.vckbase.com/","Exec");///打开网页 
}
</script>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/05/linux-ubuntu-ssh-server/" itemprop="url">
                  ubuntu开启ssh服务
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-05T20:56:00+08:00" content="2013-01-05">
              2013-01-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/05/linux-ubuntu-ssh-server/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/05/linux-ubuntu-ssh-server/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>网上有很多介绍在Ubuntu下开启SSH服务的文章，但大多数介绍的方法测试后都不太理想，均不能实现远程登录到Ubuntu上，最后分析原因是都没有真正开启ssh-server服务。最终成功的方法如下：
sudo apt-get install openssh-server
Ubuntu缺省安装了openssh-client,所以在这里就不安装了，如果你的系统没有安装的话，再用apt-get安装上即可。
然后确认sshserver是否启动了：
ps -e |grep ssh
如果只有ssh-agent那ssh-server还没有启动，需要/etc/init.d/ssh start，如果看到sshd那说明ssh-server已经启动了。
ssh-server配置文件位于/ etc/ssh/sshd_config，在这里可以定义SSH的服务端口，默认端口是22，你可以自己定义成其他端口号，如222。然后重启SSH服务：
sudo /etc/init.d/ssh resar
ssh连接：ssh <a href="mailto:xjtu129@202.117.15.165" target="_blank" rel="external">xjtu129@202.117.15.165</a>
————————————————-</p>
<ol>
<li>首先在服务器上安装ssh的服务器端。
$ sudo aptitude install openssh-server</li>
<li>启动ssh-server。
$ /etc/init.d/ssh restart</li>
<li>确认ssh-server已经正常工作。
$ netstat -tlp
tcp6 0 0 *:ssh <em>:</em> LISTEN –
看到上面这一行输出说明ssh-server已经在运行了。</li>
<li>在客户端通过ssh登录服务器。假设服务器的IP地址是192.168.0.103，登录的用户名是hyx。
$ ssh -l hyx 192.168.0.103
接下来会提示输入密码，然后就能成功登录到服务器上了</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/05/java-simple-web-server/" itemprop="url">
                  Here is a tutorial on how to whip up a simple web server in Java? with working runnable code; sourcecode and bytecode files.
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-05T18:09:17+08:00" content="2013-01-05">
              2013-01-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/05/java-simple-web-server/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/05/java-simple-web-server/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>This is the window that comes up when you run the program, just a little motivator so you can see what��s in the end of the tunnel.</p>
<p>Note to get the maximum out of this tutorial it is recommended that you have a basic grasp on how HTTP works. If the little man inside your head says what tha H is HTTP, you should go to the bottom and check some of the pointers. There you will find some nice text to explain the basic concept.</p>
<p>Let��s get started!
When making a program nowadays the first thing you should think about is the GUI (graphical user interface). If the program dosen��t look fancy, you can just press all the cancel buttons on the project. Ok that was meant as a joke, but there is some truth in it. People tend to judge a program a lot on its look, even though the real coding job is in making the stuff that goes on behind the scenes.</p>
<p>The good news is that we are making this in Java, and since Java is such a friendly programming language it��s real easy to get some interface going. Comments are in green.</p>
<p>//file: webserver_starter.java
//declare a class wich inherit JFrame
public classwebserver_starter
extendsJFrame {
//declare some panel, scrollpanel, textarea for gui
JPanel jPanel1 = newJPanel();
JScrollPane jScrollPane1 = newJScrollPane();
JTextArea jTextArea2 = newJTextArea();
staticInteger listen_port = null;
//basic class constructor
publicwebserver_starter() {
try{
jbInit();
}
catch(Exception e) {
e.printStackTrace();
}
}
//the JavaAPI entry point
//where it starts this class if run
public staticvoidmain(String[] args) {
//start server on port x, default 80
//use argument to main for what port to start on
try{
listen_port = newInteger(args[0]);
//catch parse error
}
catch(Exception e) {
listen_port = newInteger(80);
}
//create an instance of this class
webserver_starter webserver = newwebserver_starter();
}
//set up the user interface
privatevoidjbInit() throwsException {
//oh the pretty colors
jTextArea2.setBackground(newColor(16, 12, 66));
jTextArea2.setForeground(newColor(151, 138, 255));
jTextArea2.setBorder(BorderFactory.createLoweredBevelBorder());
jTextArea2.setToolTipText(&quot;&quot;);
jTextArea2.setEditable(false);
jTextArea2.setColumns(30);
jTextArea2.setRows(15);
//change this to impress your friends
this.setTitle(“Jon��s fancy prancy webserver”);
//ugly inline listener, it��s for handling closing of the window
this.addWindowListener(newjava.awt.event.WindowAdapter() {
publicvoidwindowClosing(WindowEvent e) {
this_windowClosed(e);
}
});
//add the various to the proper containers
jScrollPane1.getViewport().add(jTextArea2);
jPanel1.add(jScrollPane1);
this.getContentPane().add(jPanel1, BorderLayout.EAST);
//tveak the apearance
this.setVisible(true);
this.setSize(420, 350);
this.setResizable(false);
//make sure it is drawn
this.validate();
//create the actual serverstuff,
//all that is implemented in another class
newserver(listen_port.intValue(), this);
}
//exit program when “X” is pressed.
voidthis_windowClosed(WindowEvent e) {
System.exit(1);
}
//this is a method to get messages from the actual
//server to the window
publicvoidsend_message_to_window(String s) {
jTextArea2.append(s);
}
} //class end</p>
<p>In a nutshell this code sets up the window and makes everything look good. If you look at the picture of the program on top of this page. This code makes that!</p>
<p>Ok, enough time wasted on the look. Lets get down with the fun stuff, making the actual httpserver.</p>
<p>//file: server.java
//the real (http) serverclass
//it extends thread so the server is run in a different
//thread than the gui, that is to make it responsive.
//it��s really just a macho coding thing.
public classserver
extendsThread {
//the constructor method
//the parameters it takes is what port to bind to, the default tcp port
//for a httpserver is port 80. the other parameter is a reference to
//the gui, this is to pass messages to our nice interface
publicserver(intlisten_port, webserver_starter to_send_message_to) {
message_to = to_send_message_to;
port = listen_port;
//this makes a new thread, as mentioned before,it��s to keep gui in
//one thread, server in another. You may argue that this is totally
//unnecessary, but we are gonna have this on the web so it needs to
//be a bit macho! Another thing is that real pro webservers handles
//each request in a new thread. This server dosen��t, it handles each
//request one after another in the same thread. This can be a good
//assignment!! To redo this code so that each request to the server
//is handled in its own thread. The way it is now it blocks while
//one client access the server, ex if it transferres a big file the
//client have to wait real long before it gets any response.
this.start();
}
privatevoids(String s2) { //an alias to avoid typing so much!
message_to.send_message_to_window(s2);
}
privatewebserver_starter message_to; //the starter class, needed for gui
privateintport; //port we are going to listen to
//this is a overridden method from the Thread class we extended from
publicvoidrun() {
//we are now inside our own thread separated from the gui.
ServerSocket serversocket = null;
//To easily pick up lots of girls, change this to your name!!!
s(“The simple httpserver v. 0000000000nCoded by Jon Berg” +
&quot;&lt;jon.berg[on server]<a href="http://turtlemeat.com" target="_blank" rel="external">turtlemeat.com</a>&gt;nn&quot;);
//Pay attention, this is where things starts to cook!
try{
//print/send message to the guiwindow
s(“Trying to bind to localhost on port &quot; + Integer.toString(port) + “��”);
//make a ServerSocket and bind it to given port,
serversocket = newServerSocket(port);
}
catch(Exception e) { //catch any errors and print errors to gui
s(“nFatal Error:” + e.getMessage());
return;
}
s(“OK!n”);
//go in a infinite loop, wait for connections, process request, send response
while(true) {
s(“nReady, Waiting for requests��n”);
try{
//this call waits/blocks until someone connects to the port we
//are listening to
Socket connectionsocket = serversocket.accept();
//figure out what ipaddress the client commes from, just for show!
InetAddress client = connectionsocket.getInetAddress();
//and print it to gui
s(client.getHostName() + &quot; connected to server.n”);
//Read the http request from the client from the socket interface
//into a buffer.
BufferedReader input =
newBufferedReader(newInputStreamReader(connectionsocket.
getInputStream()));
//Prepare a outputstream from us to the client,
//this will be used sending back our response
//(header + requested file) to the client.
DataOutputStream output =
newDataOutputStream(connectionsocket.getOutputStream());
//as the name suggest this method handles the http request, see further down.
//abstraction rules
http_handler(input, output);
}
catch(Exception e) { //catch any errors, and print them
s(“nError:” + e.getMessage());
}
} //go back in loop, wait for next request
}
//our implementation of the hypertext transfer protocol
//its very basic and stripped down
privatevoidhttp_handler(BufferedReader input, DataOutputStream output) {
intmethod = 0; //1 get, 2 head, 0 not supported
String http = newString(); //a bunch of strings to hold
String path = newString(); //the various things, what http v, what path,
String file = newString(); //what file
String user_agent = newString(); //what user_agent
try{
//This is the two types of request we can handle
//GET /index.html HTTP/1.0
//HEAD /index.html HTTP/1.0
String tmp = input.readLine(); //read from the stream
String tmp2 = newString(tmp);
tmp.toUpperCase(); //convert it to uppercase
if(tmp.startsWith(“GET”)) { //compare it is it GET
method = 1;
} //if we set it to method 1
if(tmp.startsWith(“HEAD”)) { //same here is it HEAD
method = 2;
} //set method to 2
if(method == 0) { // not supported
try{
output.writeBytes(construct_http_header(501, 0));
output.close();
return;
}
catch(Exception e3) { //if some error happened catch it
s(“error:” + e3.getMessage());
} //and display error
}
//}
//tmp contains “GET /index.html HTTP/1.0 ����.”
//find first space
//find next space
//copy whats between minus slash, then you get “index.html”
//it��s a bit of dirty code, but bear with me��
intstart = 0;
intend = 0;
for(inta = 0; a &lt; tmp2.length(); a++) {
if(tmp2.charAt(a) == �� �� &amp;&amp; start != 0) {
end = a;
break;
}
if(tmp2.charAt(a) == �� �� &amp;&amp; start == 0) {
start = a;
}
}
path = tmp2.substring(start + 2, end); //fill in the path
}
catch(Exception e) {
s(“errorr” + e.getMessage());
} //catch any exception
//path do now have the filename to what to the file it wants to open
s(“nClient requested:” + newFile(path).getAbsolutePath() + “n”);
FileInputStream requestedfile = null;
try{
//NOTE that there are several security consideration when passing
//the untrusted string “path” to FileInputStream.
//You can access all files the current user has read access to!!!
//current user is the user running the javaprogram.
//you can do this by passing “…/” in the url or specify absoulute path
//or change drive (win)
//try to open the file,
requestedfile = newFileInputStream(path);
}
catch(Exception e) {
try{
//if you could not open the file send a 404
output.writeBytes(construct_http_header(404, 0));
//close the stream
output.close();
}
catch(Exception e2) {}
;
s(“error” + e.getMessage());
} //print error to gui
//happy day scenario
try{
inttype_is = 0;
//find out what the filename ends with,
//so you can construct a the right content type
if(path.endsWith(&quot;.zip&quot;
) {
type_is = 3;
}
if(path.endsWith(&quot;.jpg&quot;) || path.endsWith(&quot;.jpeg&quot;)) {
type_is = 1;
}
if(path.endsWith(&quot;.gif&quot;)) {
type_is = 2;
//write out the header, 200 -&gt;everything is ok we are all happy.
}
output.writeBytes(construct_http_header(200, 5));
//if it was a HEAD request, we don��t print any BODY
if(method == 1) { //1 is GET 2 is head and skips the body
while(true) {
//read the file from filestream, and print out through the
//client-outputstream on a byte per byte base.
intb = requestedfile.read();
if(b == -1) {
break; //end of file
}
output.write(b);
}
}
//clean up the files, close open handles
output.close();
requestedfile.close();
}
catch(Exception e) {}
}
//this method makes the HTTP header for the response
//the headers job is to tell the browser the result of the request
//among if it was successful or not.
privateString construct_http_header(intreturn_code, intfile_type) {
String s = &quot;HTTP/1.0 &quot;;
//you probably have seen these if you have been surfing the web a while
switch(return_code) {
case200:
s = s + “200 OK”;
break;
case400:
s = s + “400 Bad Request”;
break;
case403:
s = s + “403 Forbidden”;
break;
case404:
s = s + “404 Not Found”;
break;
case500:
s = s + “500 Internal Server Error”;
break;
case501:
s = s + “501 Not Implemented”;
break;
}
s = s + “rn”; //other header fields,
s = s + “Connection: closern”; //we can��t handle persistent connections
s = s + “Server: SimpleHTTPtutorial v0rn”; //server name
//Construct the right Content-Type for the header.
//This is so the browser knows what to do with the
//file, you may know the browser dosen��t look on the file
//extension, it is the servers job to let the browser know
//what kind of file is being transmitted. You may have experienced
//if the server is miss configured it may result in
//pictures displayed as text!
switch(file_type) {
//plenty of types for you to fill in
case0:
break;
case1:
s = s + “Content-Type: image/jpegrn”;
break;
case2:
s = s + “Content-Type: image/gifrn”;
case3:
s = s + “Content-Type: application/x-zip-compressedrn”;
default:
s = s + “Content-Type: text/htmlrn”;
break;
}
////so on and so on����
s = s + “rn”; //this marks the end of the httpheader
//and the start of the body
//ok return our newly created header!
returns;
}
} //class phhew caffeine yes please!</p>
<p>BEWARE! When you run the web server you are potentially opening for all your files to be red by the entire Internet! The httpserver is only ment to be used for testing. If you absoulutely want to run this httpserver for longer periods of time; consider creating a new user with only read access to the files you want to share and running it only with this user!</p>
<p>Download the tutorial files! this zipfile contains both sourcecode and compiled javabytecode files. So you can test the program without having the javacompiler. It also contains a sample index.html and a jpg file.</p>
<p>How to run the program? Get into commandline, cd to the dir where you extracted the files (webserver_starter.class and the other files). Then type: java webserver_starter</p>
<p>Then the window you see on top of this page should pop up. To test if this httpserver is really functioning, you open your browser, and in the location line you type: <a href="http://localhost/index.html" target="_blank" rel="external">http://localhost/index.html</a> ,this will bring up a sample html file that is in the zipfile.</p>
<p>If you want to test the httpserver from another machine on the Internet, then you need to know the ip-address or hostname the httpserver is running on, then you type that in the location line in the browser, like <a href="http://123.123.123.123/index.html" target="_blank" rel="external">http://123.123.123.123/index.html</a> .Note, it may not work if you are behind a firewall or a NAT router, but that��s not the programs�� fault!</p>
<p>Update: Oct 2011. This code is not actively updated, but I changed a few things mainly due to many people are referencing this. The switch (file_type) was missing breaks. requestedfile.read() and output.write() now reads and writes a byte array which speeds things up. And added favicon support since somebody asked about it.</p>
<p>How to compile: Open command line. cd to directory where you unpacked it. javac *.java
How to run: Open command line. cd to directory where you unpacked it. java -cp . webserver_starter</p>
<p>Pointers to related stuff on the hypertext transfer protocol (http) and web servers:</p>
<p>HowStuffWorks This is a very basic introduction for the novice on how web servers works. Has also other text about Internet and Routers, in easy to understandable language. Nice if you are starting out learning.</p>
<p>HTTP Made Really Easy Here is some nice text that goes through the main points in HTTP. A little more technical. It��s recommended that you know these things to understand the above tutorial.
Apache the best and most widely used web server on the Internet today, check it out. If you want to run your own web server this is the one to get, you can get binaries for both Windows and Unix. You can download the entire sourcecode if you want to check how it was made.</p>
<p>Mozilla / Netscape is a nice web browser. Get rid of the Explorer, there are some rumors that Internet Explorer secretly collects all the pages you are visiting and sends it to <a href="http://microsoft.com" target="_blank" rel="external">microsoft.com</a>.</p>
<p>RFC-1945 RFC describing Hypertext Transfer Protocol �� HTTP/1.0</p>
<p>RFC-2616 RFC describing Hypertext Transfer Protocol �� HTTP/1.1</p>
<p>RFC webpage The Request For Comment webpage, RFC are technical documents describing all sorts of protocols on the Internet.</p>
<p>Java2 Runtime / SDK Download site for the Java Runtime (needed for running Java programs) and Java Software Development Kit (needed for making Java programs).</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/05/linux-ubuntu-update-grub/" itemprop="url">
                  安装Ubuntu后找不到windows sudo update-grub
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-05T18:09:17+08:00" content="2013-01-05">
              2013-01-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/05/linux-ubuntu-update-grub/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/01/05/linux-ubuntu-update-grub/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>我已经在Ubuntu 9.10里通过终端sudo update-grub两次了，结果还是一样不能启动XP和Windows 7。以下是在一位好心的网友的热心帮助下，经过本人亲身试验，而且行之有效的解决方法：</p>
<p>原因是采用了硬盘安装方式安装Ubuntu后，把那个引导工具grldr破坏了</p>
<p>修改Ubuntu 9.10里的/boot/grub/grub.cfg文件中Windows 7的启动选项，或者直接复制增加以下这个Windows 7选项吧。</p>
<p>menuentry “Windows 7” {
insmod ntfs
set root=(hd0,1)
drivemap -s (hd0) ${root}</p>
<p>chainloader +1
}</p>
<p>这个应该就可以进入grub4dos 的菜单，然后按 C 进入GRUB的DOS状态 ，在grub&gt;提示符下输入以下三条命令来修复引导工具grldr即可</p>
<p>grub&gt;root (hd0,0)
grub&gt;chainloader /bootmgr
grub&gt;boot</p>
<p>进入Windows 7后要重新激活Windows 7，然后就正式恢复了Ubuntu 9.10和Windows 7的双系统启动菜单了，至于XP是在Windows 7的启动菜单里的，一样正常了。哈哈！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/14/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/16/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars.githubusercontent.com/bianle"
               alt="bianle" />
          <p class="site-author-name" itemprop="name">bianle</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">227</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">49</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">157</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/bianle" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/bianlelpqi" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/i9erle" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  微博
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://😇😈.ws" title="http://😇😈.ws" target="_blank">http://😇😈.ws</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://dzm.la" title="短怎么啦" target="_blank">短怎么啦</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.tunnel.ink" title="ngrok" target="_blank">ngrok</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://xingyetang.com" title="唐兴业的博客" target="_blank">唐兴业的博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.panpan.lu" title="卢盼盼的博客" target="_blank">卢盼盼的博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yangjian.me" title="Alimon's Blog" target="_blank">Alimon's Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://hexo.io" title="Hexo" target="_blank">Hexo</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://timyang.net" title="Tim's Blog" target="_blank">Tim's Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://lifegoo.pluskid.org/wiki/index.html" title="星黎殿" target="_blank">星黎殿</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://phl.iteye.com" title="猫头哥（朴海林）" target="_blank">猫头哥（朴海林）</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://zhaxiancheng" title="zxc" target="_blank">zxc</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">bianle</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"2le"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = false;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = decodeURIComponent(data.url);
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title >= 0 || index_content >= 0 ){
                                isMatch = true;
								if (i == 0) {
                                    first_occur = index_content;
                                }
                            } 
							
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

  

  


</body>
</html>
